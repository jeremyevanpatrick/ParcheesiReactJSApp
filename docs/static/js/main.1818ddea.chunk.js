(this.webpackJsonpparcheesi=this.webpackJsonpparcheesi||[]).push([[0],{10:function(e,t,r){},4:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r(1),i=r.n(n),a=r(2),o=r.n(a);r(10);class l extends i.a.Component{constructor(e){super(e)}render(){const e=[];if(this.props.dice.length>0)for(var t=0;t<this.props.dice.length;t++){var r="die die-"+this.props.dice[t].number;this.props.dice[t].active||(r+=" spentDie"),e.push(Object(s.jsxs)("div",{className:r,children:[Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("span",{children:"\u2022"}),Object(s.jsx)("b",{children:"10"}),Object(s.jsx)("strong",{children:"20"})]}))}return e}}class h extends i.a.Component{constructor(e){super(e)}handleDragStart(e){return!1}render(){var e="token player"+this.props.player+"Token";let t=function(){},r=function(){};return this.props.dice.length>0&&this.props.player==this.props.turn&&1==this.props.human&&(t=this.props.onMouseDownMarker,r=this.props.onMouseUpMarker),Object(s.jsx)("div",{className:e,draggable:!1,onDragStart:e=>this.handleDragStart(e),onMouseDown:t,onMouseUp:r,tokenindex:this.props.tokenindex})}}class c extends i.a.Component{constructor(e){super(e)}render(){var e="space";return this.props.safe&&(e+=" safe"),this.props.showMoves.length>0&&-1!=this.props.showMoves.indexOf(this.props.spaceIndex)&&(e+=" highlightSpace"),Object(s.jsx)("div",{positionindex:this.props.spaceIndex,className:e,children:this.props.renderMarkers(this.props.spaceIndex)})}}class p extends i.a.Component{constructor(e){super(e)}renderMarkers(e){const t=this.props.players.slice();let r=function(e,t){let r=[];for(var s=0;s<e.length;s++)if(null!=e[s].human)for(var n=0;n<e[s].markers.length;n++)e[s].markers[n]==t&&r.push(e[s].player);return r}(t,e);const n=[];for(var i=0;i<r.length;i++)n.push(Object(s.jsx)(h,{turn:this.props.turn,dice:t[this.props.turn-1].dice,player:r[i],onMouseDownMarker:this.props.onMouseDownMarker,onMouseUpMarker:this.props.onMouseUpMarker,tokenindex:e,human:t[this.props.turn-1].human}));return n}renderSpaceGroup(e,t,r){const n=[];for(let i=0;i<8;i++)n.push(Object(s.jsx)(c,{spaceIndex:r[i],safe:i==t,showMoves:this.props.showMoves,renderMarkers:e=>this.renderMarkers(e),onMouseDownMarker:this.props.onMouseDownMarker,onMouseUpMarker:this.props.onMouseUpMarker}));return Object(s.jsx)("div",{className:e,children:n})}render(){var e=this.props.quadIndex;if(e%2==0){if(4==e){var t="centerMenu playerTurn"+this.props.turn;const e=[];if(0==this.props.gameState||1==this.props.gameState)for(var r=0;r<this.props.players.length;r++){var n="playerHome playerHome",i=this.props.players[r].enters;n+=38==i?"Bottom":55==i?"Right":4==i?"Top":"Left";var a=-1*this.props.players[r].player-10;this.props.showMoves.length>0&&-1!=this.props.showMoves.indexOf(a)&&(n+=" highlightSpace"),e.push(Object(s.jsx)("div",{className:n,positionindex:a,children:this.renderMarkers(a)}))}let c="";var o=null;let p=null;if(-1==this.props.gameState){t+=" preMenu",c="Parcheesi";let e="disableBtn",r=0;for(var h=0;h<this.props.players.length;h++)null!=this.props.players[h].human&&r++;r>1&&(e=""),o=Object(s.jsx)("div",{id:"rollBtn",className:e,onClick:this.props.onClickStartGame,children:"Start Game"});const n=[];for(let t=1;t<=4;t++){let e="p_"+t,r="cpu_"+t,i="off_"+t,a="pc_"+t,o="",l="",h="";null==this.props.players[t-1].human?o="checked":this.props.players[t-1].human?this.props.players[t-1].human&&(h="checked"):l="checked",n.push(Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:["Player ",t]}),Object(s.jsx)("td",{children:Object(s.jsxs)("div",{className:"switch-toggle switch-3 switch-candy",children:[Object(s.jsx)("input",{id:e,name:a,type:"radio",defaultChecked:h,onChange:this.props.onChangeConfigurePlayer}),Object(s.jsxs)("label",{htmlFor:e,children:["P",t]}),Object(s.jsx)("input",{id:r,name:a,type:"radio",defaultChecked:l,onChange:this.props.onChangeConfigurePlayer}),Object(s.jsx)("label",{htmlFor:r,children:"CPU"}),Object(s.jsx)("input",{id:i,name:a,type:"radio",defaultChecked:o,onChange:this.props.onChangeConfigurePlayer}),Object(s.jsx)("label",{htmlFor:i,children:"OFF"})]})})]}))}p=Object(s.jsx)("table",{children:Object(s.jsx)("tbody",{children:n})})}else if(0==this.props.gameState){c="Player "+this.props.turn;let e=this.props.players[this.props.turn-1].dice,t=1!=this.props.players[this.props.turn-1].human||e.length>0&&(e[0].active||e[1].active)?"disableBtn":"";o=this.props.turnComplete?Object(s.jsx)("div",{id:"rollBtn",className:t,onClick:this.props.onClickEndTurn,children:"End Turn"}):Object(s.jsx)("div",{id:"rollBtn",className:t,onClick:this.props.onClickRollDice,children:"Roll Dice"}),p=Object(s.jsx)(l,{dice:e})}else 1==this.props.gameState&&(c=Object(s.jsxs)("div",{children:["Game",Object(s.jsx)("br",{}),"Completed"]}));return Object(s.jsxs)("div",{className:"quadrant home",children:[e,Object(s.jsx)("div",{className:"innerHome",children:Object(s.jsxs)("div",{className:t,children:[Object(s.jsx)("div",{className:"playerTurn",children:c}),Object(s.jsx)("div",{className:"btnArea",children:o}),Object(s.jsx)("div",{className:"diceArea",children:p})]})})]})}{let e="outerCircle player"+this.props.player+"Start",t=null==this.props.players[this.props.player-1].human||0!=this.props.gameState&&1!=this.props.gameState?"":"Player "+this.props.player,r=-1*this.props.player,n=null;return 0!=this.props.gameState&&1!=this.props.gameState||(n=this.renderMarkers(r)),Object(s.jsx)("div",{className:"quadrant start",children:Object(s.jsx)("span",{className:e,children:Object(s.jsxs)("span",{className:"innerCircle",children:[Object(s.jsx)("div",{className:"startName",children:t}),Object(s.jsx)("div",{className:"startPosition",positionindex:r,children:n})]})})})}}var c=1==e||7==e?"file-v":"row-h",p=1==e||3==e,d=new Array(8),u=new Array(8),f=new Array(8);return 1==e?(d=[0,1,2,3,4,5,6,7],u=[67,167,267,367,467,567,667,767],f=[66,65,64,63,62,61,60,59]):3==e?(d=[15,14,13,12,11,10,9,8],u=[16,116,216,316,416,516,616,716],f=[17,18,19,20,21,22,23,24]):5==e?(d=[58,57,56,55,54,53,52,51],u=[750,650,550,450,350,250,150,50],f=[42,43,44,45,46,47,48,49]):7==e&&(d=[25,26,27,28,29,30,31,32],u=[733,633,533,433,333,233,133,33],f=[41,40,39,38,37,36,35,34]),Object(s.jsxs)("div",{className:"quadrant",children:[this.renderSpaceGroup(c,p?4:3,d),this.renderSpaceGroup(c+" ramp",p?0:7,u),this.renderSpaceGroup(c,p?4:3,f)]})}}class d extends i.a.Component{constructor(e){super(e)}render(){const e=[];for(let t=0;t<3;t++){const r=[];for(let e=0+3*t;e<3+3*t;e++)r.push(Object(s.jsx)(p,{gameState:this.props.gameState,turn:this.props.turn,quadIndex:e,player:0==e?3:2==e?2:6==e?4:1,onClickRollDice:this.props.onClickRollDice,onMouseDownMarker:this.props.onMouseDownMarker,onMouseUpMarker:this.props.onMouseUpMarker,onChangeConfigurePlayer:this.props.onChangeConfigurePlayer,onClickStartGame:this.props.onClickStartGame,onClickEndTurn:this.props.onClickEndTurn,turnComplete:this.props.turnComplete,showMoves:this.props.showMoves,players:this.props.players}));e.push(Object(s.jsx)("div",{className:"boardRow",children:r}))}return Object(s.jsx)("div",{id:"board",children:e})}}class u extends i.a.Component{constructor(e){super(e),this.state={gameState:-1,turn:1,turnComplete:!1,doubles:0,showMoves:[],players:[{human:!0,player:1,enters:38,markers:[-1,-1,-1,-1],dice:[],finished:!1,blockades:[]},{human:!1,player:2,enters:55,markers:[-2,-2,-2,-2],dice:[],finished:!1,blockades:[]},{human:!1,player:3,enters:4,markers:[-3,-3,-3,-3],dice:[],finished:!1,blockades:[]},{human:!1,player:4,enters:21,markers:[-4,-4,-4,-4],dice:[],finished:!1,blockades:[]}]},this.moveMarker=function(e,t){const r=this.state.players.slice();for(var s=0;s<r.length;s++)for(var n=0;n<r[s].markers.length;n++)if(r[s].markers[n]==e){r[s].markers[n]=t;break}this.setState({players:r})},this.addBonusMove=function(e){const t=this.state.players.slice();t[Object.assign(this.state.turn)-1].dice.push({number:e,active:!0}),this.setState({players:t})},this.rollDice=function(e){const t=this.state.players.slice(),r=Object.assign(this.state.turn);let s=t[r-1],n=!1;for(var i=0;i<s.dice.length;i++)s.dice[i].active&&(n=!0);0==s.dice.length||!n&&this.state.doubles>0?(s.dice=[{number:Math.floor(6*Math.random())+1,active:!0},{number:Math.floor(6*Math.random())+1,active:!0}],this.setState({players:t},function(){var n=!1,i=Object.assign(this.state.doubles);if(s.dice[0].number==s.dice[1].number)if(2==i){var a=function(e){for(var t=null,r=0,s=0;s<e.markers.length;s++)if(-1==[-11,-12,-13,-14].indexOf(e.markers[s])&&-1==[-1,-2,-3,-4].indexOf(e.markers[s])){var n=y(e.enters,e.markers[s],e.enters);r<n&&(r=n,t=e.markers[s])}return t}(s);null!=a&&this.moveMarker(a,-1*s.player),i=0,n=!0}else i++;else i=0;this.setState({doubles:i}),n||!f(t,r)&&s.dice[0].number!=s.dice[1].number?(this.disableAllDice(),this.setState({turnComplete:!0})):f(t,r)||s.dice[0].number!=s.dice[1].number||this.disableAllDice(),e()}.bind(this))):e()},this.disableAllDice=function(){const e=this.state.players.slice();let t=Object.assign(this.state.turn);e[t-1].dice[0].active=!1,e[t-1].dice[1].active=!1,"undefined"!=typeof e[t-1].dice[2]&&(e[t-1].dice[2].active=!1),"undefined"!=typeof e[t-1].dice[3]&&(e[t-1].dice[3].active=!1),this.setState({players:e})},this.manageBlockades=function(){const e=this.state.players.slice();let t=Object.assign(this.state.turn);for(var r=[],s=e[t-1].markers.length;s--;)for(var n=e[t-1].markers.length;n--;)if(s!=n&&-1==[-1,-2,-3,-4,-11,-12,-13,-14].indexOf(e[t-1].markers[s])&&e[t-1].markers[s]==e[t-1].markers[n]&&-1==r.indexOf(e[t-1].markers[s])){for(var i=null,a=e[t-1].blockades.length;a--;)e[t-1].blockades[a].position==e[t-1].markers[s]&&(i=a);null!=i?e[t-1].blockades[i].duration+=1:e[t-1].blockades.push({position:e[t-1].markers[s],duration:1}),r.push(e[t-1].markers[s])}for(s=e[t-1].blockades.length;s--;){var o=!1;for(n=r.length;n--;)r[n]==e[t-1].blockades[s].position&&(o=!0);o||e[t-1].blockades.splice(s,1)}for(s=e[t-1].blockades.length;s--;)if(e[t-1].blockades[s].duration>3){for(var l=e[t-1].blockades[s].position,h=-1*e[t-1].player,c=0;c<e[t-1].markers.length;c++)if(e[t-1].markers[c]==l){e[t-1].markers[c]=h;break}e[t-1].blockades.splice(s,1)}this.setState({players:e})},this.endTurn=function(){const e=this.state.players.slice();let t=Object.assign(this.state.turn);e[t-1].dice=[],this.manageBlockades();for(var r=0;t=t==e.length?1:t+1,e[t-1].finished||null==e[t-1].human;)if(++r==e.length)return void this.setState({gameState:1,players:e});this.setState({turn:t,turnComplete:!1,players:e},(function(){0==e[t-1].human&&this.startAiTurn()}))},this.startAiTurn=function(){this.performAiRollAction(function(){let e=this.state.players.slice(),t=Object.assign(this.state.turn);e[t-1].dice[0].number==e[t-1].dice[1].number?this.performAiRollAction(function(){e=this.state.players.slice(),e[t-1].dice[0].number==e[t-1].dice[1].number?this.performAiRollAction(function(){this.endTurn()}.bind(this)):this.endTurn()}.bind(this)):this.endTurn()}.bind(this))},this.performAiRollAction=function(e){this.rollDice(function(){this.afterMoveCallback(function(){this.disableAllDice(),e()}.bind(this))}.bind(this))},this.afterMoveCallback=function(e){setTimeout(function(){f(this.state.players.slice(),Object.assign(this.state.turn))?this.loopOverActions(function(){this.setState({showMoves:[]},(function(){e()}))}.bind(this)):e()}.bind(this),500)},this.loopOverActions=function(e){this.breakBlockade(function(t){t?this.afterMoveCallback(e):this.captureEnemy(function(t){t?this.afterMoveCallback(e):this.moveUnsafeToSafe(function(t){t?this.afterMoveCallback(e):this.moveOutOfStart(function(t){t?this.afterMoveCallback(e):this.moveIntoHome(function(t){t?this.afterMoveCallback(e):this.moveToSafeSpace(function(t){t?this.afterMoveCallback(e):this.moveAwayFromNearbyEnemy(function(t){t?this.afterMoveCallback(e):this.moveBehindNearestEnemy(function(t){t?this.afterMoveCallback(e):this.moveMostAdvanced(function(t){t?this.afterMoveCallback(e):e()}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},this.moveAiMarker=function(e,t,r,s,n){console.log("CPU Player "+s+": "+n),this.setState({showMoves:[t]},(function(){setTimeout(function(){for(var n=0;n<r[s-1].markers.length;n++)if(r[s-1].markers[n]==e){r[s-1].markers[n]=t;break}for(var i=y(e,t,r[s-1].enters),a=j(r[s-1].dice,i),o=0;o<a.length;o++)r[s-1].dice[a[o]].active=!1;for(var l=!1,h=0;h<r[s-1].markers.length;h++)-1==[-11,-12,-13,-14].indexOf(r[s-1].markers[h])&&(l=!0);l||(r[s-1].finished=!0),this.setState({players:r})}.bind(this),500)}))},this.breakBlockade=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn);for(var s=null,n=0;n<t[r-1].blockades.length;n++)if(3==t[r-1].blockades[n].duration){s=t[r-1].blockades[n].position;break}if(null!=s){var i=g(s,t,r);if(i.length>0){for(n=0;n<i.length;n++){for(var a=t[r-1].blockades.length;a--;)if(t[r-1].blockades[a].position==s){t[r-1].blockades.splice(n,1);break}this.moveAiMarker(s,i[n],t,r,"breakBlockade");break}return void e(!0)}}e(!1)},this.captureEnemy=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=0;a<s.length;a++)for(var o=0;o<t.length;o++)if(o!=r-1)for(var l=0;l<t[o].markers.length;l++){var h=t[o].markers[l];if(-1!=s[a].indexOf(h)){this.moveMarker(h,-1*t[o].player);var c=t[r-1].markers[a];return this.moveAiMarker(c,h,t,r,"captureEnemy"),this.addBonusMove(20),void e(!0)}}e(!1)},this.moveUnsafeToSafe=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=x(t,r),o=0;o<s.length;o++)if(-1==a.indexOf(t[r-1].markers[o]))for(var l=0;l<a.length;l++){if(-1!=s[o].indexOf(a[l])){var h=a[l];return this.moveAiMarker(t[r-1].markers[o],h,t,r,"moveUnsafeToSafe"),void e(!0)}for(var c=0;c<t[r-1].markers.length;c++)if(c!=o&&-1!=s[o].indexOf(t[r-1].markers[c])){h=t[r-1].markers[c];return this.moveAiMarker(t[r-1].markers[o],h,t,r,"moveUnsafeToSafe"),void e(!0)}}e(!1)},this.moveOutOfStart=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=0;a<s.length;a++){let n=t[r-1].enters;if(-1!=s[a].indexOf(n)){var o=t[r-1].markers[a];return this.moveAiMarker(o,n,t,r,"moveOutOfStart"),void e(!0)}}e(!1)},this.moveIntoHome=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=0;a<s.length;a++){let n=-1*r-10;if(-1!=s[a].indexOf(n)){var o=t[r-1].markers[a];return this.moveAiMarker(o,n,t,r,"moveIntoHome"),this.addBonusMove(10),void e(!0)}}e(!1)},this.moveToSafeSpace=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=x(t,r),o=0;o<s.length;o++)for(var l=0;l<a.length;l++){if(-1!=s[o].indexOf(a[l])){var h=a[l];return this.moveAiMarker(t[r-1].markers[o],h,t,r,"moveToSafeSpace"),void e(!0)}for(var c=0;c<t[r-1].markers.length;c++)if(c!=o&&-1!=s[o].indexOf(t[r-1].markers[c])){h=t[r-1].markers[c];return this.moveAiMarker(t[r-1].markers[o],h,t,r,"moveToSafeSpace"),void e(!0)}}e(!1)},this.moveAwayFromNearbyEnemy=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn);var s=x(t,r);let n=[];for(var i=0;i<t[r-1].markers.length;i++){var a=t[r-1].markers[i];if(-1==s.indexOf(a)&&-1==[-11,-12,-13,-14].indexOf(a)){for(var o=!1,l=0;l<t.length;l++)if(t[l].player!=r)for(var h=0;h<t[l].markers.length;h++)for(var c=t[l].markers[h],p=0;p<10;p++)(c=v(c,t[l].enters))==a&&(o=!0);o?n.push(g(a,t,r)):n.push([])}else n.push([])}for(var d=0;d<n.length;d++)if(n[d].length>0){var u=t[r-1].markers[d];return this.moveAiMarker(u,n[d][0],t,r,"moveAwayFromNearbyEnemy"),void e(!0)}e(!1)},this.moveBehindNearestEnemy=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}var a=[];for(n=0;n<t[r-1].markers.length;n++)for(var o=t[r-1].markers[n],l=0;l<10;l++){var h=!1;if(null==(o=v(o,t[r-1].enters)))break;for(var c=0;c<t.length;c++)if(t[r-1].player!=t[c].player)for(var p=0;p<t[c].markers.length;p++){var d=t[c].markers[p];if(o==d&&!h){a.push(n);for(var u=s[n].length;u--;){y(t[r-1].markers[n],s[n][u],t[r-1].enters)>y(t[r-1].markers[n],d,t[r-1].enters)&&s[n].splice(u,1)}h=!0}}}for(u=0;u<a.length;u++)for(var f=a[u],m=s[f],k=0;k<m.length;k++){var b=m[k];o=t[r-1].markers[f];return this.moveAiMarker(o,b,t,r,"moveBehindNearestEnemy"),void e(!0)}e(!1)},this.moveMostAdvanced=function(e){let t=this.state.players.slice(),r=Object.assign(this.state.turn),s=[];for(var n=0;n<t[r-1].markers.length;n++){var i=t[r-1].markers[n];s.push(g(i,t,r))}for(var a=[],o=null,l=0;l<t[r-1].markers.length;l++){var h=-900;for(i=0;i<t[r-1].markers.length;i++){var c=-1;t[r-1].markers[i]==t[r-1].enters?c=0:-1==[-1,-2,-3,-4].indexOf(t[r-1].markers[i])&&(c=y(t[r-1].enters,t[r-1].markers[i],t[r-1].enters)),-1==a.indexOf(i)&&h<c&&(h=c,o=i)}a.push(o)}for(i=0;i<a.length;i++){var p=t[r-1].markers[a[i]],d=s[a[i]];for(l=0;l<d.length;l++)return this.moveAiMarker(p,d[l],t,r,"moveMostAdvanced"),void e(!0)}e(!1)}}handleChangeConfigurePlayer(e){let t=e.target.id.split("_"),r="p"==t[0]||"cpu"!=t[0]&&null,s=parseInt(t[1])-1;const n=this.state.players.slice();n[s].human=r,this.setState({players:n})}handleClickStartGame(e){const t=this.state.players.slice();let r=0;for(var s=0;s<t.length;s++)null!=t[s].human&&r++;if(r>1){let e=Object.assign(this.state.turn)-1;for(this.setState({gameState:0});e=e==t.length?1:e+1,null==t[e-1].human;);this.setState({turn:e,turnComplete:!1},(function(){0==t[e-1].human&&this.startAiTurn()}))}}handleClickEndTurn(e){this.endTurn()}handleClickRollDice(e){this.rollDice((function(){}))}handleMouseDownMarker(e){const t=o.a.findDOMNode(e.target);e.clientX,t.getBoundingClientRect().left,e.clientY,t.getBoundingClientRect().top;let r=t.getBoundingClientRect().left-t.parentNode.getBoundingClientRect().left,s=t.getBoundingClientRect().top-t.parentNode.getBoundingClientRect().top;var n=t.currentStyle||window.getComputedStyle(t);t.style.left=r-parseInt(n.marginLeft)+"px",t.style.top=s-parseInt(n.marginTop)+"px",t.style.position="absolute",t.style.zIndex=5e3,t.parentNode.style.zIndex=5e3,t.closest(".quadrant").style.zIndex=5e3,document.onmousemove=function(e){let r=e.clientX-t.parentNode.getBoundingClientRect().left,s=e.clientY-t.parentNode.getBoundingClientRect().top;var n=t.currentStyle||window.getComputedStyle(t);t.style.left=r-t.getBoundingClientRect().width/2-parseInt(n.marginLeft)+"px",t.style.top=s-t.getBoundingClientRect().height/2-parseInt(n.marginTop)+"px"}}handleMouseUpMarker(e){document.onmousemove=null;const t=o.a.findDOMNode(e.target),r=parseInt(t.getAttribute("tokenindex"));let s=this.state.players.slice();const n=Object.assign(this.state.turn);let i=g(r,s,n);t.style.visibility="hidden";let a=document.elementFromPoint(e.clientX,e.clientY);if(t.style.visibility=null,null!=a){let e=a.closest(".space, .playerHome");if(null!=e){let a=parseInt(e.getAttribute("positionindex"));if(-1!=i.indexOf(a)){for(var l=0;l<s.length;l++)if(s[l].player!=n)for(var h=0;h<s[l].markers.length;h++)if(s[l].markers[h]==a){this.moveMarker(a,-1*s[l].player),this.addBonusMove(20);break}this.moveMarker(r,a),t.style.position=null,t.style.zIndex=null,t.style.left=null,t.style.top=null,t.parentNode.style.zIndex=null,t.closest(".quadrant").style.zIndex=null,s=this.state.players.slice();for(var c=y(r,a,s[n-1].enters),p=j(s[n-1].dice,c),d=0;d<p.length;d++)s[n-1].dice[p[d]].active=!1;if(this.setState({players:s}),-1*s[n-1].player-10==a){this.addBonusMove(10);var u=!1;s=this.state.players.slice();for(var m=0;m<s[n-1].markers.length;m++)-1==[-11,-12,-13,-14].indexOf(s[n-1].markers[m])&&(u=!0);u||(s[n-1].finished=!0,this.setState({players:s}))}return s=this.state.players.slice(),f(s,n)||s[n-1].dice[0].number==s[n-1].dice[1].number?f(s,n)||s[n-1].dice[0].number!=s[n-1].dice[1].number||this.disableAllDice():(this.disableAllDice(),this.setState({turnComplete:!0})),void this.setState({showMoves:[]})}}}this.setState({showMoves:i}),t.style.position=null,t.style.zIndex=null,t.style.left=null,t.style.top=null,t.parentNode.style.zIndex=null,t.closest(".quadrant").style.zIndex=null}render(){return Object(s.jsx)("div",{id:"boardContainer",children:Object(s.jsx)(d,{gameState:this.state.gameState,turn:this.state.turn,onMouseDownMarker:e=>this.handleMouseDownMarker(e),onMouseUpMarker:e=>this.handleMouseUpMarker(e),onClickStartGame:e=>this.handleClickStartGame(e),onChangeConfigurePlayer:e=>this.handleChangeConfigurePlayer(e),onClickRollDice:e=>this.handleClickRollDice(e),onClickEndTurn:e=>this.handleClickEndTurn(e),turnComplete:this.state.turnComplete,showMoves:this.state.showMoves,players:this.state.players})})}}function f(e,t){const r=e[t-1];for(var s=!1,n=0;n<r.markers.length;n++){g(r.markers[n],e,t).length>0&&(s=!0)}return s}function m(e,t){for(var r=!1,s=0;s<t.length;s++){for(var n=0,i=0;i<t[s].markers.length;i++)t[s].markers[i]==e&&n++;2==n&&(r=!0)}return r}function v(e,t){return null==e?e:67==e?4==t?e+100:0:16==e&&21==t||33==e&&38==t||50==e&&55==t||e>67&&e<716?e+100:716==e?-14:733==e?-11:750==e?-12:767==e?-13:-1!=[-11,-12,-13,-14].indexOf(e)?null:-1!=[-1,-2,-3,-4].indexOf(e)?t:e+1}function k(e,t,r){for(var s=0;s<t;s++)e=v(e,r);return e}function b(e,t,r,s){for(;e!=t;){if(null==e)return!0;if(e=v(e,r),-1!=[-11,-12,-13,-14].indexOf(e))return!1;if(m(e,s))return!0}return!1}function g(e,t,r){var s=t[r-1],n=[];if(-1!=[-1,-2,-3,-4].indexOf(e)){if(m(s.enters,t))return[];if(!(s.dice[0].active&&5==s.dice[0].number||s.dice[1].active&&5==s.dice[1].number))return[];{let e=!1;for(var i=0;i<s.dice.length;i++)if(s.dice[i].active)if(5!=s.dice[i].number||e){var a=s.enters+s.dice[i].number;b(s.enters,a,s.enters,t)||n.push(a)}else e=!0,n.push(s.enters)}}else{if(-1!=[-11,-12,-13,-14].indexOf(e))return[];{const r=s.dice.slice();let l=[];for(i=0;i<r.length;i++)r[i].active&&l.push(r[i]);l.length>1&&l.push({number:l[0].number+l[1].number,active:!0});for(var o=0;o<l.length;o++){if(l[o].active)null==(a=k(e,l[o].number,s.enters))||b(e,a,s.enters,t)||n.push(a)}}}for(var l=n.length;l--;)if(n[l]!=s.enters&&-1!=[4,11,16,21,28,33,38,45,50,55,62,67].indexOf(n[l]))for(var h=0;h<t.length;h++)if(t[h].player!=r)for(var c=0;c<t[h].markers.length;c++)t[h].markers[c]==n[l]&&n.splice(l,1);return n}function y(e,t,r){for(var s=0;e!=t;){var n=e;e=v(e,r),-1!=[-1,-2,-3,-4].indexOf(n)?s+=5:s++}return s}function j(e,t){for(var r=0;r<e.length;r++)if(e[r].active&&e[r].number==t)return[r];for(r=0;r<e.length;r++)if(e[r].active)for(var s=0;s<e.length;s++)if(r!=s&&e[s].active&&e[r].number+e[s].number==t)return[r,s];return[]}function x(e,t){const r=[4,11,16,21,28,33,38,45,50,55,62,67,-1,-2,-3,-4];for(var s=0;s<e.length;s++)if(e[s].player!=t)for(var n=0;n<e[s].markers.length;n++)if(-1!=[-1,-2,-3,-4].indexOf(e[s].markers[n])){var i=r.indexOf(e[s].enters);-1!=i&&r.splice(i,1)}const a=[[67,167,267,367,467,567,667,767],[16,116,216,316,416,516,616,716],[33,133,233,333,433,533,633,733],[50,150,250,350,450,550,650,750]];for(var o=0;o<a[t-1].length;o++)r.push(a[t-1][o]);return r}o.a.render(Object(s.jsx)(u,{}),document.getElementById("root"))}},[[4,1,2]]]);
//# sourceMappingURL=main.1818ddea.chunk.js.map